<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/ChannelMemberView/utils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/ChannelMemberView/utils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Event } from '../../constants';
import { Alert } from 'react-native';

/**
 * Returns a boolean showing if task is in the channel.
 *
 * @function channelActivityFilterWrap
 * @param {number} channek_id - The id of the channel.
 * @param {Object} tasks - The collection of all tasks.
 * @returns {boolean} - The boolean showing if task is in the channel.
 */
export const channelActivityFilterWrap = (channel_id, tasks) => activity_log =>
  channel_id === tasks[activity_log.task_id].channel_id;

/**
 * Returns a string which is the initial of the full name.
 *
 * @function nameToInitialMap
 * @param {string} name - The full name.
 * @returns {string} - The initial of the full name.
 */

export const nameToInitialMap = name =>
  name
    .split(' ')
    .map(word => word[0].toUpperCase())
    .join('');

//note: this 'timestamp' should be ISO format time
/**
 * Returns a description of the timestamp.
 *
 * @function timestampToDescription
 * @param {string} timestamp - The timestamp.
 * @returns {string} - The description of the timestamp.
 */

export const timestampToDescription = timestamp => {
  if (!timestamp) {
    return 'some time';
  }

  var s = new Date() - new Date(timestamp);
  var ms = s % 1000;
  s = (s - ms) / 1000;
  var secs = s % 60;
  s = (s - secs) / 60;
  var mins = s % 60;
  s = (s - mins) / 60;
  var hrs = s % 24;
  var days = Math.floor(s / 24);

  if (days > 0) {
    return `${days} days ago`;
  } else if (hrs > 0) {
    return `${hrs} hours ago`;
  } else if (mins > 0) {
    return `${mins} minutes ago`;
  } else {
    return 'Just now';
  }
};

/**
 * Returns a comment of the event.
 *
 * @function eventToComment
 * @param {event} event - The event status.
 * @returns {string} - The comment of the event.
 */

export const eventToComment = event => {
  switch (event.toString()) {
    case Event.JOIN:
      return 'Finished task';
    case Event.FINISH:
      return 'Joined task';
    case Event.DROP:
      return 'Dropped task';
    default:
      return '';
  }
};

/**
 * Returns the result for event and point.
 *
 * @function eventPointToResult
 * @param {event} event - The event status.
 * @param {point} point - The point of the task in the event.
 * @returns {string} - The result for event and point.
 */

export const eventPointToResult = (event, point) => {
  switch (event.toString()) {
    case Event.FINISH:
      return `+${point}`;
    default:
      return '';
  }
};

/**
 * Generates an alert.
 *
 * @function _alert
 * @param {string} msg - The alert message.
 */

export const _alert = msg => Alert.alert(msg, '', [{ text: 'OK' }]);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#_alert">_alert</a></li><li><a href="global.html#_createChannelLocal">_createChannelLocal</a></li><li><a href="global.html#_delete">_delete</a></li><li><a href="global.html#_get">_get</a></li><li><a href="global.html#_post">_post</a></li><li><a href="global.html#_subscribeChannelLocal">_subscribeChannelLocal</a></li><li><a href="global.html#_subscribeFailure">_subscribeFailure</a></li><li><a href="global.html#activityUploaded">activityUploaded</a></li><li><a href="global.html#activityUploadFailure">activityUploadFailure</a></li><li><a href="global.html#ADD_ACTIVITY">ADD_ACTIVITY</a></li><li><a href="global.html#ADD_CHANNEL">ADD_CHANNEL</a></li><li><a href="global.html#ADD_FAILURE">ADD_FAILURE</a></li><li><a href="global.html#channelActivityFilterWrap">channelActivityFilterWrap</a></li><li><a href="global.html#channelGetter">channelGetter</a></li><li><a href="global.html#constructChannel">constructChannel</a></li><li><a href="global.html#CREATE_CHANNEL_FAILURE">CREATE_CHANNEL_FAILURE</a></li><li><a href="global.html#createChannelAsUser">createChannelAsUser</a></li><li><a href="global.html#DROP_TASK">DROP_TASK</a></li><li><a href="global.html#dropTaskAsUser">dropTaskAsUser</a></li><li><a href="global.html#ENROLL_TASK">ENROLL_TASK</a></li><li><a href="global.html#enrollTaskAsUser">enrollTaskAsUser</a></li><li><a href="global.html#Event">Event</a></li><li><a href="global.html#eventPointToResult">eventPointToResult</a></li><li><a href="global.html#eventToComment">eventToComment</a></li><li><a href="global.html#goToChannel">goToChannel</a></li><li><a href="global.html#handleVote">handleVote</a></li><li><a href="global.html#LOAD_DATA">LOAD_DATA</a></li><li><a href="global.html#loadData">loadData</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#LOGIN_BEGIN">LOGIN_BEGIN</a></li><li><a href="global.html#LOGIN_FAILURE">LOGIN_FAILURE</a></li><li><a href="global.html#LOGIN_SUCCESS">LOGIN_SUCCESS</a></li><li><a href="global.html#loginFailure">loginFailure</a></li><li><a href="global.html#loginSuccess">loginSuccess</a></li><li><a href="global.html#LOGOUT">LOGOUT</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#nameToInitialMap">nameToInitialMap</a></li><li><a href="global.html#newActivityLog">newActivityLog</a></li><li><a href="global.html#periodDecoder">periodDecoder</a></li><li><a href="global.html#Point">Point</a></li><li><a href="global.html#receiveData">receiveData</a></li><li><a href="global.html#SERVER_ERR">SERVER_ERR</a></li><li><a href="global.html#serverError">serverError</a></li><li><a href="global.html#SIGNUP_BEGIN">SIGNUP_BEGIN</a></li><li><a href="global.html#SIGNUP_FAILURE">SIGNUP_FAILURE</a></li><li><a href="global.html#SIGNUP_SUCCESS">SIGNUP_SUCCESS</a></li><li><a href="global.html#signUpSuccess">signUpSuccess</a></li><li><a href="global.html#Status">Status</a></li><li><a href="global.html#SUBSCRIBE_CHANNEL">SUBSCRIBE_CHANNEL</a></li><li><a href="global.html#SUBSCRIBE_FAILURE">SUBSCRIBE_FAILURE</a></li><li><a href="global.html#subscribeChannelAsUser">subscribeChannelAsUser</a></li><li><a href="global.html#timestampToDescription">timestampToDescription</a></li><li><a href="global.html#USER_TASK_FAILURE">USER_TASK_FAILURE</a></li><li><a href="global.html#userChannelFilter">userChannelFilter</a></li><li><a href="global.html#userTaskDrop">userTaskDrop</a></li><li><a href="global.html#userTaskEnroll">userTaskEnroll</a></li><li><a href="global.html#userTaskFilter">userTaskFilter</a></li><li><a href="global.html#userTaskOperationFailure">userTaskOperationFailure</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Dec 02 2018 02:51:00 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
