<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: remove.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: remove.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const express = require('express')
const router = express.Router()
// Load the MySQL pool connection
const pool = require('../data/config');
const { doQuery } = require('./helper'); 

/**
 * Remove an entry for table user_channel 
 * @function
 * @param {string} user_id - The user_id of the user.
 * @param {string} channel_id - The channel_id of the channel. 
 * @example 
 * curl -X DELETE http://localhost:8001/user_channel/1\&amp;1
 * @returns {Integer} Returns the removed id of the entry.
 */    
function remove_user_channel_entry(user_id, channel_id){} 
router.delete('/user_channel/:user&amp;:channel', async (request, response) => {
    try {
        const user = request.params.user;
        const channel = request.params.channel;  
        const result = await doQuery(
            'DELETE FROM user_channel WHERE user_id = ? AND channel_id = ?', 
            [user, channel])
        response.send(result);
    } catch (error) {
        response.status(401).send(`unable to remove: ${error}`);  
    }
});

 
/**
 * Remove an entry for table user_task 
 * @function
 * @param {string} user_id - The user_id of the user.
 * @param {string} task_id - The channel_id of the task. 
 * @example 
 * curl -X DELETE http://localhost:8001/user_task/1\&amp;1
 * @returns {Integer} Returns the removed id of the entry.
 */    

function remove_user_task_entry(user_id, task_id){} 
router.delete('/user_task/:user&amp;:task', async (request, response) => {

    try {
        console.log(request.params)
        console.log(request.body)
        const user = request.params.user;
        const task = request.params.task;
        const result = await doQuery(
            'DELETE FROM user_task WHERE user_id = ? AND task_id = ?', 
            [user, task])
        response.send(result);
    } catch (error) {
        response.status(401).send(`unable to remove: ${error}`);  
    } 
});

module.exports = router

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#_transformToTask">_transformToTask</a></li><li><a href="global.html#create_activity_log_entry">create_activity_log_entry</a></li><li><a href="global.html#create_channel_entry">create_channel_entry</a></li><li><a href="global.html#create_proposal_entry">create_proposal_entry</a></li><li><a href="global.html#create_user_channel_entry">create_user_channel_entry</a></li><li><a href="global.html#create_user_entry">create_user_entry</a></li><li><a href="global.html#create_user_task_entry">create_user_task_entry</a></li><li><a href="global.html#get_score_board">get_score_board</a></li><li><a href="global.html#get_user_rank">get_user_rank</a></li><li><a href="global.html#loaddata">loaddata</a></li><li><a href="global.html#remove_user_channel_entry">remove_user_channel_entry</a></li><li><a href="global.html#remove_user_task_entry">remove_user_task_entry</a></li><li><a href="global.html#update_activity_log">update_activity_log</a></li><li><a href="global.html#update_channel">update_channel</a></li><li><a href="global.html#update_proposal">update_proposal</a></li><li><a href="global.html#update_task">update_task</a></li><li><a href="global.html#update_user">update_user</a></li><li><a href="global.html#update_user_channel">update_user_channel</a></li><li><a href="global.html#update_user_task">update_user_task</a></li><li><a href="global.html#update_vote">update_vote</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Dec 02 2018 22:52:48 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
